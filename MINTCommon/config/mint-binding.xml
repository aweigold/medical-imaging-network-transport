<binding xmlns:tns="http://medical.nema.org/mint" name="binding" package="org.nema.medical.mint.common.metadata" trim-whitespace="true">
  <namespace uri="http://medical.nema.org/mint" default="elements"/> <!--   prefix="mint" -->
  <format label="int.hex" type="int" serializer="org.nema.medical.mint.common.metadata.StudyIO.int2hex"
          deserializer="org.nema.medical.mint.common.metadata.StudyIO.hex2int"/>
  <format label="int.bid" type="int" serializer="org.nema.medical.mint.common.metadata.StudyIO.int2bid"
          deserializer="org.nema.medical.mint.common.metadata.StudyIO.bid2int"/>
  <mapping abstract="true" type-name="StudyMetaType" class="org.nema.medical.mint.common.metadata.Study">
    <collection name="Attributes" add-method="putAttribute" iter-method="attributeIterator" item-type="org.nema.medical.mint.common.metadata.Attribute">
    	<structure name="Attr" map-as="AttrType"/>
    </collection>
    <collection name="SeriesList" add-method="putSeries" iter-method="seriesIterator" item-type="org.nema.medical.mint.common.metadata.Series">
    	<structure name="Series" map-as="SeriesType"/>
    </collection>
    <value style="attribute" name="studyInstanceUID" get-method="getStudyInstanceUID" set-method="setStudyInstanceUID"/>
  </mapping>
  <mapping class="org.nema.medical.mint.common.metadata.Study" name="StudyMeta">
    <structure map-as="StudyMetaType"/>
  </mapping>
  <mapping abstract="true" type-name="AttrType" class="org.nema.medical.mint.common.metadata.Attribute">
    <collection add-method="addItem" iter-method="itemIterator" item-type="org.nema.medical.mint.common.metadata.Item">
    	<structure name="Item" map-as="ItemType"/>
    </collection>
    <value style="attribute" name="tag" get-method="getTag" set-method="setTag" format="int.hex" />
    <value style="attribute" name="vr" get-method="getVr" set-method="setVr"/>
    <value style="attribute" name="val" get-method="getVal" set-method="setVal" usage="optional"/>
    <value style="attribute" name="bid" get-method="getBid" set-method="setBid" format="int.bid" usage="optional" default="-1"/>    
  </mapping>
  <mapping abstract="true" type-name="SeriesType" class="org.nema.medical.mint.common.metadata.Series">
    <collection name="Attributes" add-method="putAttribute" iter-method="attributeIterator" item-type="org.nema.medical.mint.common.metadata.Attribute">
    	<structure name="Attr" map-as="AttrType"/>
    </collection>
    <collection name="NormalizedInstanceAttributes" add-method="putNormalizedInstanceAttribute" iter-method="normalizedInstanceAttributeIterator" item-type="org.nema.medical.mint.common.metadata.Attribute">
    	<structure name="Attr" map-as="AttrType"/>
    </collection>
    <collection name="Instances" add-method="putInstance" iter-method="instanceIterator" item-type="org.nema.medical.mint.common.metadata.Instance">
    	<structure name="Instance" map-as="InstanceType"/>
    </collection>
    <value style="attribute" name="seriesInstanceUID" field="seriesInstanceUID"/>
  </mapping>
  <mapping abstract="true" type-name="ItemType" class="org.nema.medical.mint.common.metadata.Item">
    <collection name="Attributes" add-method="putAttribute" iter-method="attributeIterator" item-type="org.nema.medical.mint.common.metadata.Attribute">
    	<structure name="Attr" map-as="AttrType"/>
    </collection>
  </mapping>
  <mapping abstract="true" type-name="InstanceType" class="org.nema.medical.mint.common.metadata.Instance">
    <collection name="Attributes" add-method="putAttribute" iter-method="attributeIterator" item-type="org.nema.medical.mint.common.metadata.Attribute">
    	<structure name="Attr" map-as="AttrType"/>
    </collection>
    <value style="attribute" name="xfer" field="xfer"/>
  </mapping>
</binding>