#summary This documentation describes how to run the various MINT Conformance Tools.

= Setting up your environment =

The MINT Conformance tools require [http://www.python.org Python2.5] or later. Currently the tools are run directly from the MINTConformance package in a subversion trunk (installation scripts will be provided later). In order to run the tools, the *PYTHONPATH* environment variable must be set to point to the python source code. For example, if *MC_PATH* is the path to your subversion trunk, then set your PYTHONPATH as follows:

*Unix*
{{{
PYTHONPATH=$MC_HOME/MINTConformance/src
}}}

*Windows*
{{{
set PYTHONPATH=%MC_HOME%\MINTConformance\src
}}}

---- 

= Tools =

The MINTConformance package was developed based on the draft [http://groups.google.com/group/mint-user/files MINT Conformance Test] Power Point specification located in the [http://groups.google.com mint-user Google Group]. it currently consists of three tools.

  * [http://code.google.com/p/medical-imaging-network-transport/source/browse/trunk/MINTConformance/src/org/nema/medical/mint/MintStudyCompare.sh MintStudyCompare.sh] 
  * [http://code.google.com/p/medical-imaging-network-transport/source/browse/trunk/MINTConformance/src/org/nema/medical/mint/MintStudyCompare.py  MintStudyCompare.py]
  * [http://code.google.com/p/medical-imaging-network-transport/source/browse/trunk/MINTConformance/src/org/nema/medical/mint/MintDicomCompare.py MintDicomCompare.py]

== MintStudyCompare.sh ==

This tool is a simple shell script that compares two MINT studies by running the Unix _diff_ command on the metadata.xml files and the _cmp_ command on each of the binary items. This tool checks that the MINT studies are exactly equal. 

Because we are running directly from the subversion trunk instead on an installation, the permissions on the tools are not executable. Launch the tool by using the Unix _sh_ command to parse the file. To run this script on Windows, it requires a [http://www.cygwin.com/ cyqwin] command shell.

Running the tool with no arguments displays the usage:

{{{
> $MC_HOME/MINTConformance/src/org/nema/medical/mint/MintStudyCompare.sh
Usage: MintStudyCompare.sh <mint_study1.xml> <mint_study2.xml>
}}}

To test the tool, you can use the sample data located in the MINTConformance/testdata directory. In the example below, we run the tool with the identical MINT studies so no differences are found. As with most Unix applications, no news is good news. Therefore, no output means the metadata and binary files are exactly equal.

{{{
> cd $MC_HOME/MINTConformance/testdata/MINT/7cc45edf-d5a6-4264-b8ae-1d24d857f04b/DICOM
> sh $MC_HOME/MINTConformance/src/org/nema/medical/mint/MintStudyCompare.sh metadata.xml metadata.xml
}}}

To see differences, we can compare an older MINT study to a newer one. The example below shows both metadata changes and binary differences.

{{{
> cd $MC_HOME/MINTConformance/testdata/MINT
> sh $MC_HOME/MINTConformance/src/org/nema/medical/mint/MintStudyCompare.sh metadata.1.xml 7cc45edf-d5a6-4264-b8ae-1d24d857f04b/DICOM/metadata.xml
1,190c1,190
< <?xml version="1.0" encoding="utf-8" ?>
< <StudyMeta studyInstanceUID="1.2.392.200036.9116.2.2.2.1762893313.1029997326.945873">
<     <Attributes>
<         <Attr tag="00080020" vr="DA" val="20020711" />
<         <Attr tag="00080030" vr="TM" val="144114.000" />
<         <Attr tag="00080050" vr="SH" val="1126" />
...
./binaryitems/2.dat 7cc45edf-d5a6-4264-b8ae-1d24d857f04b/DICOM/binaryitems/2.dat differ: byte 759, line 4
}}}